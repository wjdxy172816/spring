package com.spring.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.ResponseBody;
import org.springframework.web.servlet.ModelAndView;

import com.spring.pojo.ProductInfo;

@Controller
@RequestMapping("/product")//为了避免不同controller中有相同名字的请求，这儿添加一个前缀，请求的时候就以/product/getInfo/xxx.action的方式请求
public class ProductController {
	
	//通过restful风格请求后返回字符串到浏览器
	@RequestMapping("/getInfo/{id}")
	@ResponseBody
	public ProductInfo getProductInfo(@PathVariable int id) {	//添加@PathVariable注释，表示形参id要从请求路径中的id来.
		//ModelAndView mv =new ModelAndView();
		//mv.setViewName("product_introduce");
		ProductInfo info =new ProductInfo();
		info.setId(id);
		info.setDesc("这是一段吹牛逼的话,听完就行了");
		return info;
	}
	//通过restful风格请求后构建数据到jsp页面然后渲染到客户端
	@RequestMapping("/getInfoByPage/{id}")
	public ModelAndView getInfo(@PathVariable int id) {
		ModelAndView mv =new ModelAndView();
		mv.setViewName("product_introduce");
		ProductInfo info =new ProductInfo();
		info.setId(id);
		info.setDesc("这是一段吹牛逼的话,听完就行了");
		mv.addObject("product", info);
		return mv;
	}
}
